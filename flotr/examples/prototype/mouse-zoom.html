<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
		<title>Flotr: Mouse Zoom Example</title>
		<link rel="stylesheet" href="style.css" type="text/css" />
		<!--[if IE]><script language="javascript" type="text/javascript" src="../../flotr/prototype/lib/excanvas.js"></script><![endif]-->
		<script language="javascript" type="text/javascript" src="../../flotr/prototype/lib/prototype-1.6.0.2.js"></script>
		<script language="javascript" type="text/javascript" src="../../flotr/prototype/flotr.js"></script>
	</head>
	<body>
		<div id="wrapper">
			<h1>Flotr: Mouse Zoom Example</h1>
			<div id="container" style="width:600px;height:300px;"></div>
			<h2>Example</h2>
			<p>This example show how to hook into events that are fired by Flotr. Note that the events are
			fired from the container element.</p>
			<h2>The Code</h2>
			<pre><code class="javascript">/**
 * Draw the graph.
 */
var options = {
	selection:{mode:'xy'}
};

/**
 * Draw the graph.
 */
var f = Flotr.draw($('container'), [ d1, d2, d3 ], options);

/**
 * Hook into the 'flotr:selected' event.
 */
$('container').observe('flotr:selected', function(evt){
	/**
	 * Get the selected area coordinates passed as event memo.
	 */
	var area = evt.memo[0];
	/**
	 * Clone the options, so the 'options' variable always keeps intact.
	 */
	var opts = Object.clone(options);
	/**
	 * What happens: empty the container element, and draw a new 
	 * graph with bounded axis. The axis correspond to the selection
	 * you just made.
	 */
	f = Flotr.draw($('container'), [ d1, d2, d3 ], Object.extend(opts,{
		xaxis: {min:area.x1, max:area.x2},
		yaxis: {min:area.y1, max:area.y2}						
	}))
});</code></pre>
			<div id="footer">Copyright &copy; 2008 Bas Wenneker, <a href="http://www.solutoire.com">solutoire.com</a></div>
		</div>
		
		<script type="text/javascript">
			/**
			 * Wait till dom's finished loading.
			 */
			document.observe('dom:loaded', function(){
				/**
				 * Fill series d1 and d2.
				 */
				var d1 = [];
				var d2 = [];
				var d3 = [];
			    for(var i = 0; i < 40; i += 0.5){
			        d1.push([i, Math.sin(i)+3*Math.cos(i)]);
					d2.push([i, Math.pow(1.1, i)]);
					d3.push([i, 40 - i+Math.random()*10]);
				}
			    
				/**
				 * Draw the graph.
				 */
				var options = {
					selection:{mode:'xy'}
				};
				
				/**
				 * Draw the graph.
				 */
				var f = Flotr.draw($('container'), [ d1, d2, d3 ], options);
				
				/**
				 * Hook into the 'flotr:selected' event.
				 */
				$('container').observe('flotr:selected', function(evt){
					/**
					 * Get the selected area coordinates passed as event memo.
					 */
					var area = evt.memo[0];
					/**
					 * Clone the options, so the 'options' variable always keeps intact.
					 */
					var opts = Object.clone(options);
					/**
					 * What happens: empty the container element, and draw a new 
					 * graph with bounded axis. The axis correspond to the selection
					 * you just made.
					 */
					f = Flotr.draw($('container'), [ d1, d2, d3 ], Object.extend(opts,{
						xaxis: {min:area.x1, max:area.x2},
						yaxis: {min:area.y1, max:area.y2}						
					}))
				});
			});			
		</script>
	</body>
</html>
